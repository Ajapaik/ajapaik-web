{% extends "base_bootstrap.html" %}

{% load i18n %}

{% block layout %}
    <div class="container pt-5">
        <div class="row">
            <div class="col-lg-6 col-md-8 col-sm-12 offset-lg-3 offset-md-2 offset-sm-0">
                <h1>{% trans "Log in" %}</h1>
                <form method="post" action="." class="form">
                    {% csrf_token %}
                    <div class="form-group">
                        <label class="col-form-label">{% trans "E-mail" %}</label>
                        <input class="form-control" maxlength="254" name="username"
                            placeholder="{% trans "E-mail" %}" required="required" title="" type="text" autocomplete="username">
                    </div>
                    <div class="form-group">
                        <label class="col-form-label">{% trans "Password" %}</label>
                        <input class="form-control" name="password" placeholder="{% trans "Password" %}"
                            required="required" title="" type="password" autocomplete="current-password">
                    </div>
                    <input name="next" type="hidden" value="{% if is_user_upload %}{% url "user_upload" %}{% else %}{% url "frontpage" %}{% endif %}">
                    <button type="submit" class="btn btn-primary ajp-email-login-button">
                        {% trans "Log in" %}
                    </button>
                </form>
                <br class="forgot_password_link" />
                <a class="forgot_password_link" href="{% url "auth_password_reset" %}">{% trans "Forgot password" %}</a>
                <br/>
                <a href="{% url 'account_signup' %}">{% trans "Register account" %}</a>
                <br/>
                <br/>
                <b>{% trans "OR" %}</b>
                <br/>
                {# TODO: next handling #}
                <div class="facebook-connect">
                        href="{% provider_login_url 'facebook' %}"
                    <a href="{% provider_login_url 'facebook' %}?next={% if is_user_upload %}{% url 'user_upload' %}{% else %}/{% endif %}"
                       class="ir">{% trans "Connect with Facebook" %}</a>
                </div>
                <br/>
                <div class="google-plus-connect">
                    <a href="{% provider_login_url 'google' %}?next={% if is_user_upload %}{% url 'user_upload' %}{% else %}/{% endif %}"
                       class="ir">{% trans "Connect with Google" %}</a>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
