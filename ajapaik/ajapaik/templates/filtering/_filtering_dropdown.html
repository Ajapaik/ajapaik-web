{% load i18n %}
<a href="#" id="ajp-filtering-dropdown" data-toggle="dropdown" class="ajp-header-button dropdown ajp-no-background{% if not is_frontpage or is_game %} d-none{% endif %}" title="{% trans 'Filtering' %}">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="32"
            height="36" fill="#888" viewBox="0 0 24 24">
        <path {% if highlight_filter_icon %}class="ajp-white"{% endif %}
            id="ajp-header-filter-icon"
            fill="#888"
            d="M3,2H21V2H21V4H20.92L14,10.92V22.91L10,18.91V10.91L3.09,4H3V2Z">
        </path>
    </svg>
    <div class="dropdown dropdown-menu ajp-black-dropdown-menu" role="menu">
        {% if is_frontpage %}
            <span id="ajp-organiser-dropdown-filter-name">
                {% trans 'Filters' %}:
                {% if request.GET.collections == '1' %}
                    {% trans 'collections' %},
                {% endif %}
                {% if request.GET.people == '1' %}
                    {% trans 'people' %},
                {% endif %}
                {% if request.GET.backsides == '1' %}
                    {% trans 'back sides of pictures' %},
                {% endif %}
                {% if request.GET.exteriors == '1' %}
                    {% trans 'exteriors' %},
                {% endif %}
                {% if request.GET.interiors == '1' %}
                    {% trans 'interiors' %},
                {% endif %}
                {% if request.GET.ground_viewpoint_elevation == '1' %}
                    {% trans 'pictures from the ground' %},
                {% endif %}
                {% if request.GET.raised_viewpoint_elevation == '1' %}
                    {% trans 'pictures from a raised viewpoint' %},
                {% endif %}
                {% if request.GET.aerial_viewpoint_elevation == '1' %}
                    {% trans 'aerial pictures' %},
                {% endif %}
                {% if request.GET.no_geotags == '1' %}
                    {% trans 'pictures which are not geotagged' %},
                {% endif %}
                {% if not request.GET.collections and not request.GET.people and not request.GET.backsides and not request.GET.exteriors and not request.GET.interiors and not request.GET.ground_viewpoint_elevation and not request.GET.raised_viewpoint_elevation and not request.GET.aerial_viewpoint_elevation and not request.GET.no_geotags%}
                    {% trans 'no filter' %}
                {% endif %}</span>
            <div>
                <a role="button"
                    class="ajp-header-button"
                    {% if is_frontpage and not album and not show_photos %}title="{% trans 'Show person albums' %}"{% else %}title="{% trans 'Show pictures with faces' %}"{% endif %}
                    href="#"
                    id="ajp-header-people">
                    <span aria-hidden class="notranslate material-icons ajp-icon-36 ajp-gray-button{% if request.GET.people == '1' %} ajp-text-white{% endif %}">people</span>
                </a>
                <a id="ajp-header-collections"
                    class="{% if album or show_photos %}d-none{% endif %} ml-4 ajp-cursor-pointer"
                    role="button"
                    title="{% trans 'Pictures by collections' %}">
                    <span aria-hidden
                        class="material-icons notranslate ajp-icon-36 ajp-gray-button{% if request.GET.collections == '1' %} ajp-text-white{% endif %}">
                        account_balance
                    </span>
                </a>
                <a role="button"
                    class="ajp-header-button ml-4"
                    {% if is_frontpage and not album and not show_photos %}
                        title="{% trans 'Show albums with pictures with back sides' %}"
                    {% else %}
                        title="{% trans 'Show pictures with back sides' %}"
                    {% endif %}
                    href="#"
                    id="ajp-header-backsides">
                        <span aria-hidden
                            class="notranslate material-icons ajp-icon-36 ajp-gray-button{% if request.GET.backsides == '1' %} ajp-text-white{% endif %}">
                            picture_in_picture
                        </span>
                </a>
                {% if show_photos %}
                <a role="button"
                    class="ajp-header-button ml-4"
                    title="{% trans 'Show pictures made from the ground level' %}"
                    href="#"
                    id="ajp-header-ground_viewpoint_elevation">
                        <span aria-hidden
                            class="notranslate material-icons ajp-icon-36 ajp-gray-button{% if request.GET.ground_viewpoint_elevation == '1' %} ajp-text-white{% endif %}">
                            nature_people
                        </span>
                </a>
                <a role="button"
                    class="ajp-header-button"
                    title="{% trans 'Show pictures made from a raised viewpoint' %}"
                    href="#"
                    id="ajp-header-raised_viewpoint_elevation">
                        <span aria-hidden
                            class="notranslate material-icons ajp-icon-36 ajp-gray-button{% if request.GET.raised_viewpoint_elevation == '1' %} ajp-text-white{% endif %}">
                            location_city
                        </span>
                </a>
                <a role="button"
                    class="ajp-header-button"
                    title="{% trans 'Show aerial pictures' %}"
                    href="#"
                    id="ajp-header-aerial_viewpoint_elevation">
                        <span aria-hidden
                            class="notranslate material-icons ajp-icon-36 ajp-gray-button{% if request.GET.aerial_viewpoint_elevation == '1' %} ajp-text-white{% endif %}">
                            flight
                        </span>
                <a role="button"
                    class="ajp-header-button ml-4"
                    title="{% trans 'Show portrait pictures' %}"
                    href="#"
                    id="ajp-header-portrait">
                        <span aria-hidden
                            class="notranslate material-icons ajp-icon-36 ajp-gray-button{% if request.GET.portrait == '1' %} ajp-text-white{% endif %}">
                            crop_portrait
                        </span>
                <a role="button"
                    class="ajp-header-button"
                    title="{% trans 'Show square pictures' %}"
                    href="#"
                    id="ajp-header-square">
                        <span aria-hidden
                            class="notranslate material-icons ajp-icon-36 ajp-gray-button{% if request.GET.square == '1' %} ajp-text-white{% endif %}">
                            crop_square
                        </span>
                <a role="button"
                    class="ajp-header-button"
                    title="{% trans 'Show landscape pictures' %}"
                    href="#"
                    id="ajp-header-landscape">
                        <span aria-hidden
                            class="notranslate material-icons ajp-icon-36 ajp-gray-button{% if request.GET.landscape == '1' %} ajp-text-white{% endif %}">
                            crop_5_4
                        </span>
                <a role="button"
                    class="ajp-header-button"
                    title="{% trans 'Show panoramic pictures' %}"
                    href="#"
                    id="ajp-header-panoramic">
                        <span aria-hidden
                            class="notranslate material-icons ajp-icon-36 ajp-gray-button{% if request.GET.panoramic == '1' %} ajp-text-white{% endif %}">
                            crop_7_5
                        </span>
                </a>
                    <a role="button"
                        class="ajp-header-button ml-4"
                        title="{% trans 'Show interior pictures' %}"
                        href="#"
                        id="ajp-header-interiors">
                            <span aria-hidden class="notranslate material-icons ajp-icon-36 ajp-gray-button{% if request.GET.interiors == '1' %} ajp-text-white{% endif %}">
                                hotel
                            </span>
                    </a>
                    <a role="button"
                        class="ajp-header-button"
                        title="{% trans 'Show exterior pictures' %}"
                        href="#"
                        id="ajp-header-exteriors">
                            <span aria-hidden
                                class="notranslate material-icons ajp-icon-36 ajp-gray-button{% if request.GET.exteriors == '1' %} ajp-text-white{% endif %}">
                                home
                            </span>
                    </a>
                    <a role="button"
                        class="ajp-header-button ml-4"
                        title="{% trans 'Show pictures which are not geotagged' %}"
                        href="#"
                        id="ajp-header-no_geotags">
                            <span aria-hidden
                                class="notranslate material-icons ajp-icon-36 ajp-gray-button{% if request.GET.no_geotags == '1' %} ajp-text-white{% endif %}">
                                not_listed_location
                            </span>
                    </a>
                {% endif %}
            </div>
        {% endif %}
        {% if show_photos %}
            <ul class="pl-0">
                <li id="ajp-organiser-dropdown-sort-order-name"></li>
                <li data-order1="closest" data-order2="none">
                    <a href="#" class="ajp-filtering-choice ajp-no-background" data-order1="closest" data-order2="none"
                        title="{% trans "Sort by distance from you" %}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24">
                            <path d="M0 0h24v24h-24z" fill="none"></path>
                            <path fill="#888" id="ajp-closest-filter-icon"
                                    d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94v-2.06h-2v2.06c-4.17.46-7.48 3.77-7.94 7.94h-2.06v2h2.06c.46 4.17 3.77 7.48 7.94 7.94v2.06h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94h2.06v-2h-2.06zm-8.94 8c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
                        </svg>
                    </a>
                </li>
                <li data-order1="time">
                    <a href="#" class="ajp-filtering-choice ajp-no-background" data-order1="time"
                        title="{% trans "Sort by time and ..." %}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24">
                            <path d="M0 0h24v24H0z" fill="none"></path>
                            <path fill="#888" id="ajp-time-filter-icon" opacity=".9"
                                    d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"></path>
                        </svg>
                    </a>
                </li>
                <li data-order1="time" data-order2="added">
                    <a href="#" class="ajp-filtering-choice ajp-no-background"
                        data-order1="time" data-order2="added" title="{% trans "Sort by photos' time added" %}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="48" viewBox="0 0 24 24">
                            <path d="M0 0h24v24h-24z" fill="none"></path>
                            <path fill="#888" id="ajp-added-filter-icon"
                                    d="M12 2c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm5 11h-4v4h-2v-4h-4v-2h4v-4h2v4h4v2z"></path>
                        </svg>
                    </a>
                </li>
                {% if album.5 %}
                    <li data-order1="time" data-order2="stills">
                        <a href="#" class="ajp-filtering-choice ajp-no-background"
                            data-order1="time" data-order2="stills" title="{% trans "Sort by stills' timestamp" %}">
                            <svg height="48" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                                <path fill="#888" id="ajp-stills-filter-icon" d="M18 3v2h-2V3H8v2H6V3H4v18h2v-2h2v2h8v-2h2v2h2V3h-2zM8 17H6v-2h2v2zm0-4H6v-2h2v2zm0-4H6V7h2v2zm10 8h-2v-2h2v2zm0-4h-2v-2h2v2zm0-4h-2V7h2v2z"></path>
                                <path d="M0 0h24v24H0z" fill="none"></path>
                            </svg>
                        </a>
                    </li>
                {% endif %}
                <li data-order2="views">
                    <a href="#" class="ajp-filtering-choice ajp-no-background"
                        data-order2="views" title="{% trans "Sort by views' time added or amount" %}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="48" viewBox="0 0 24 24">
                            <path fill="#888" id="ajp-views-filter-icon" d="M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path>
                            <path d="M0 0h24v24h-24z" fill="none"></path>
                        </svg>
                    </a>
                </li>
                <li data-order2="geotags">
                    <a href="#" class="ajp-filtering-choice ajp-no-background"
                        data-order2="geotags" title="{% trans "Sort by geotags' time added or amount" %}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="48" viewBox="0 0 24 24">
                            <path fill="#888" id="ajp-geotags-filter-icon"
                                d="M18 8c0-3.31-2.69-6-6-6s-6 2.69-6 6c0 4.5 6 11 6 11s6-6.5 6-11zm-8 0c0-1.1.9-2 2-2s2 .9 2 2-.89 2-2 2c-1.1 0-2-.9-2-2zm-5 12v2h14v-2h-14z"></path>
                            <path d="M0 0h24v24h-24z" fill="none"></path>
                        </svg>
                    </a>
                </li>
                <li data-order2="rephotos">
                    <a href="#" class="ajp-filtering-choice ajp-no-background"
                        data-order2="rephotos" title="{% trans "Sort by rephotos' time added or amount" %}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="48" viewBox="0 0 24 24">
                            <path d="M0 0h24v24h-24z" fill="none"></path>
                            <path fill="#888" id="ajp-rephotos-filter-icon"
                                d="M4 6h-2v14c0 1.1.9 2 2 2h14v-2h-14v-14zm16-4h-12c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-12c0-1.1-.9-2-2-2zm-1 9h-4v4h-2v-4h-4v-2h4v-4h2v4h4v2z"></path>
                        </svg>
                    </a>
                </li>
                <li data-order2="annotations">
                    <a href="#" class="ajp-filtering-choice ajp-no-background"
                        data-order2="annotations" title="{% trans "Sort by annotations' time added or amount" %}">
                        <svg fill="#888" height="48" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                            <path fill="#888" id="ajp-annotations-filter-icon"
                                d="M23 7V1h-6v2H7V1H1v6h2v10H1v6h6v-2h10v2h6v-6h-2V7h2zM3 3h2v2H3V3zm2 18H3v-2h2v2zm12-2H7v-2H5V7h2V5h10v2h2v10h-2v2zm4 2h-2v-2h2v2zM19 5V3h2v2h-2zm-5.27 9h-3.49l-.73 2H7.89l3.4-9h1.4l3.41 9h-1.63l-.74-2zm-3.04-1.26h2.61L12 8.91l-1.31 3.83z"></path>
                        </svg>
                    </a>
                </li>
                <li data-order2="transcriptions">
                    <a href="#" class="ajp-filtering-choice ajp-no-background"
                        data-order2="transcriptions" title="{% trans "Sort by transcriptions' time added or amount" %}">
                        <svg fill="#888" height="48" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                            <path fill="#888" id="ajp-transcriptions-filter-icon"
                                d="M2.5,4v3h5v12h3V7h5V4H2.5z M21.5,9h-9v3h3v7h3v-7h3V9z"></path>
                        </svg>
                    </a>
                </li>
                <li data-order2="datings">
                    <a href="#" class="ajp-filtering-choice ajp-no-background"
                        data-order2="datings" title="{% trans "Sort by datings' time added or amount" %}">
                        <svg fill="#888" height="48" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
                            <path fill="#888" id="ajp-datings-filter-icon"
                                d="M17 12h-5v5h5v-5zM16 1v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-1V1h-2zm3 18H5V8h14v11z"></path>
                            <path d="M0 0h24v24H0z" fill="none"></path>
                        </svg>
                    </a>
                </li>
                <li data-order2="comments">
                    <a href="#" class="ajp-filtering-choice ajp-no-background" data-order2="comments"
                        title="{% trans "Sort by comments' time added or amount" %}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="48" viewBox="0 0 24 24">
                            <path fill="#888" id="ajp-comments-filter-icon"
                                    d="M20 2h-16c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2v-12c0-1.1-.9-2-2-2z"></path>
                            <path d="M0 0h24v24h-24z" fill="none"></path>
                        </svg>
                    </a>
                </li>
                <li data-order2="likes">
                    <a href="#" class="ajp-filtering-choice ajp-no-background"
                        data-order2="likes" title="{% trans "Sort by likes' time added or amount" %}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="48" viewBox="0 0 24 24">
                            <path fill="#888" id="ajp-likes-filter-icon"
                                    d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"></path>
                            <path d="M0 0h24v24h-24z" fill="none"></path>
                        </svg>
                    </a>
                </li>
                <li id="ajp-sort-size" data-order1="amount">
                    <a href="#" class="ajp-filtering-choice ajp-no-background" data-order1="amount"
                        title="{% trans "Sort by amount and ..." %}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24">
                            <path fill="#888" id="ajp-amount-filter-icon"
                                    d="M3 18h6v-2H3v2zM3 6v2h18V6H3zm0 7h12v-2H3v2z"></path>
                            <path d="M0 0h24v24H0z" fill="none"></path>
                        </svg>
                    </a>
                </li>
                <li data-order3="reverse">
                    <a href="#" class="ajp-filtering-choice ajp-no-background" data-order3="reverse"
                        title="{% trans "Change sorting order" %}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24">
                            <path fill="#888" id="ajp-reverse-filter-icon"
                                    d="M16 17.01V10h-2v7.01h-3L15 21l4-3.99h-3zM9 3L5 6.99h3V14h2V6.99h3L9 3z"></path>
                            <path d="M0 0h24v24H0z" fill="none"></path>
                        </svg>
                    </a>
                </li>
                <li>
                    <a href="#" id="ajp-ordering-help" title="{% trans "Help" %}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24">
                            <path d="M0 0h24v24h-24z" fill="none"></path>
                            <path fill="#888"
                                    d="M12 2c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92c-.72.73-1.17 1.33-1.17 2.83h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2h-2c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"></path>
                        </svg>
                    </a>
                </li>
            </ul>
        {% endif %}
    </div>
</a>
{% block specific_js %}
    <script>
        $(document).ready(function () {
            let text = $('#ajp-organiser-dropdown-filter-name').text();
            text = text.trim();
                if (text.endsWith(',')) {
                    $('#ajp-organiser-dropdown-filter-name').text(text.substring(0,text.length-1));
                }
            }
        )
    </script>
{% endblock %}