!function(t){"use strict";"function"==typeof define&&define.amd?define(["load-image"],t):t(window.loadImage)}(function(n){"use strict";var e=n.hasCanvasOption,s=n.transformCoordinates,h=n.getTransformedOptions;n.hasCanvasOption=function(t){return e.call(n,t)||t.orientation},n.transformCoordinates=function(t,e){s.call(n,t,e);var a=t.getContext("2d"),o=t.width,r=t.height,i=e.orientation;if(i&&!(8<i))switch(4<i&&(t.width=r,t.height=o),i){case 2:a.translate(o,0),a.scale(-1,1);break;case 3:a.translate(o,r),a.rotate(Math.PI);break;case 4:a.translate(0,r),a.scale(1,-1);break;case 5:a.rotate(.5*Math.PI),a.scale(1,-1);break;case 6:a.rotate(.5*Math.PI),a.translate(0,-r);break;case 7:a.rotate(.5*Math.PI),a.translate(o,-r),a.scale(-1,1);break;case 8:a.rotate(-.5*Math.PI),a.translate(-o,0)}},n.getTransformedOptions=function(t,e){var a,o,r=h.call(n,t,e),i=r.orientation;if(!i||8<i||1===i)return r;for(o in a={},r)r.hasOwnProperty(o)&&(a[o]=r[o]);switch(r.orientation){case 2:a.left=r.right,a.right=r.left;break;case 3:a.left=r.right,a.top=r.bottom,a.right=r.left,a.bottom=r.top;break;case 4:a.top=r.bottom,a.bottom=r.top;break;case 5:a.left=r.top,a.top=r.left,a.right=r.bottom,a.bottom=r.right;break;case 6:a.left=r.top,a.top=r.right,a.right=r.bottom,a.bottom=r.left;break;case 7:a.left=r.bottom,a.top=r.right,a.right=r.top,a.bottom=r.left;break;case 8:a.left=r.bottom,a.top=r.left,a.right=r.top,a.bottom=r.right}return 4<r.orientation&&(a.maxWidth=r.maxHeight,a.maxHeight=r.maxWidth,a.minWidth=r.minHeight,a.minHeight=r.minWidth,a.sourceWidth=r.sourceHeight,a.sourceHeight=r.sourceWidth),a}});