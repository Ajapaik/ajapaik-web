!function(e,t){var a=function(o,r){"use strict";if(!r.getElementsByClassName)return;var u,a=r.documentElement,i=o.HTMLPictureElement&&"sizes"in r.createElement("img"),n="addEventListener",s=o[n],f=o.setTimeout,l=o.requestAnimationFrame||f,c=o.setImmediate||f,m=/^picture$/i,d=["load","error","lazyincluded","_lazyloaded"],g={},z=Array.prototype.forEach,v=function(e,t){return g[t]||(g[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),g[t].test(e.className)&&g[t]},y=function(e,t){v(e,t)||(e.className=e.className.trim()+" "+t)},p=function(e,t){var a;(a=v(e,t))&&(e.className=e.className.replace(a," "))},h=function(t,a,e){var i=e?n:"removeEventListener";e&&h(t,a),d.forEach(function(e){t[i](e,a)})},C=function(e,t,a,i,n){var s=r.createEvent("CustomEvent");return s.initCustomEvent(t,!i,!n,a||{}),e.dispatchEvent(s),s},A=function(e,t){var a;!i&&(a=o.picturefill||u.pf)?a({reevaluate:!0,elements:[e]}):t&&t.src&&(e.src=t.src)},b=function(e,t){return(getComputedStyle(e,null)||{})[t]},E=function(e,t,a){for(a=a||e.offsetWidth;a<u.minSize&&t&&!e._lazysizesWidth;)a=t.offsetWidth,t=t.parentNode;return a},e=function(e){var t,a=0,i=o.Date,n=function(){t=!1,a=i.now(),e()},s=function(){c(n)},r=function(){l(s)};return function(){if(!t){var e=125-(i.now()-a);t=!0,e<6&&(e=6),f(r,e)}}},t=(J=/^img$/i,K=/^iframe$/i,Q="onscroll"in o&&!/glebot/.test(navigator.userAgent),U=0,V=0,X=0,Y=function(e){V--,e&&e.target&&h(e.target,Y),(!e||V<0||!e.target)&&(V=0)},Z=function(e,t){var a,i=e,n="hidden"!=b(e,"visibility");for(O-=t,F+=t,P-=t,$+=t;n&&(i=i.offsetParent);)(n=0<(b(i,"opacity")||1))&&"visible"!=b(i,"overflow")&&(a=i.getBoundingClientRect(),n=$>a.left&&P<a.right&&F>a.top-1&&O<a.bottom+1);return n},ee=e(function(){var e,t,a,i,n,s,r,o,l;if((R=u.loadMode)&&V<8&&(e=x.length)){for(t=0,X++,U<I&&V<1&&3<X&&2<R?(U=I,X=0):U=1<R&&2<X&&V<6?H:0;t<e;t++)if(x[t]&&!x[t]._lazyRace)if(Q)if((o=x[t].getAttribute("data-expand"))&&(s=1*o)||(s=U),l!==s&&(T=innerWidth+s,k=innerHeight+s,r=-1*s,l=s),a=x[t].getBoundingClientRect(),(F=a.bottom)>=r&&(O=a.top)<=k&&($=a.right)>=r&&(P=a.left)<=T&&(F||$||P||O)&&(S&&V<3&&!o&&(R<3||X<4)||Z(x[t],s))){if(ne(x[t]),n=!0,9<V)break;6<V&&(U=0)}else!n&&S&&!i&&V<4&&X<4&&2<R&&(B[0]||u.preloadAfterLoad)&&(B[0]||!o&&(F||$||P||O||"auto"!=x[t].getAttribute(u.sizesAttr)))&&(i=B[0]||x[t]);else ne(x[t]);i&&!n&&ne(i)}}),te=function(e){y(e.target,u.loadedClass),p(e.target,u.loadingClass),h(e.target,te)},ae=function(e){var t,a,i=e.getAttribute(u.srcsetAttr);(t=u.customMedia[e.getAttribute("data-media")||e.getAttribute("media")])&&e.setAttribute("media",t),i&&e.setAttribute("srcset",i),t&&((a=e.parentNode).insertBefore(e.cloneNode(),e),a.removeChild(e))},q=[],G=function(){for(;q.length;)q.shift()();j=!1},ie=function(e){q.push(e),j||(j=!0,l(G))},ne=function(e){var t,a,i,n,s,r,o,l=J.test(e.nodeName),c=l&&(e.getAttribute(u.sizesAttr)||e.getAttribute("sizes")),d="auto"==c;(!d&&S||!l||!e.src&&!e.srcset||e.complete||v(e,u.errorClass))&&(d&&(o=e.offsetWidth),e._lazyRace=!0,V++,ie(function(){e._lazyRace&&delete e._lazyRace,p(e,u.lazyClass),(s=C(e,"lazybeforeunveil")).defaultPrevented||(c&&(d?(y(e,u.autosizesClass),N.updateElem(e,!0,o)):e.setAttribute("sizes",c)),a=e.getAttribute(u.srcsetAttr),t=e.getAttribute(u.srcAttr),l&&(i=e.parentNode,n=i&&m.test(i.nodeName||"")),r=s.detail.firesLoad||"src"in e&&(a||t||n),s={target:e},r&&(h(e,Y,!0),clearTimeout(L),L=f(Y,2500),y(e,u.loadingClass),h(e,te,!0)),n&&z.call(i.getElementsByTagName("source"),ae),a?e.setAttribute("srcset",a):t&&!n&&(K.test(e.nodeName)?function(t,a){try{t.contentWindow.location.replace(a)}catch(e){t.src=a}}(e,t):e.src=t),(a||n)&&A(e,{src:t})),r&&!e.complete||(r?Y(s):V--,te(s))}))},se=function(){if(!S)if(Date.now()-D<999)f(se,999);else{var e,t=function(){u.loadMode=3,ee()};S=!0,u.loadMode=3,V||ee(),s("scroll",function(){3==u.loadMode&&(u.loadMode=2),clearTimeout(e),e=f(t,99)},!0)}},{_:function(){D=Date.now(),x=r.getElementsByClassName(u.lazyClass),B=r.getElementsByClassName(u.lazyClass+" "+u.preloadClass),H=u.expand,I=H*u.expFactor,s("scroll",ee,!0),s("resize",ee,!0),o.MutationObserver?new MutationObserver(ee).observe(a,{childList:!0,subtree:!0,attributes:!0}):(a[n]("DOMNodeInserted",ee,!0),a[n]("DOMAttrModified",ee,!0),setInterval(ee,999)),s("hashchange",ee,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){r[n](e,ee,!0)}),/d$|^c/.test(r.readyState)?se():(s("load",se),r[n]("DOMContentLoaded",ee),f(se,2e4)),ee(0<x.length)},checkElems:ee,unveil:ne}),N=(_=function(e,t,a){var i,n,s,r,o=e.parentNode;if(o&&(a=E(e,o,a),!(r=C(e,"lazybeforesizes",{width:a,dataAttr:!!t})).defaultPrevented&&(a=r.detail.width)&&a!==e._lazysizesWidth)){if(e._lazysizesWidth=a,a+="px",e.setAttribute("sizes",a),m.test(o.nodeName||""))for(i=o.getElementsByTagName("source"),n=0,s=i.length;n<s;n++)i[n].setAttribute("sizes",a);r.detail.dataAttr||A(e,r.detail)}},W=e(function(){var e,t=w.length;if(t)for(e=0;e<t;e++)_(w[e])}),{_:function(){w=r.getElementsByClassName(u.autosizesClass),s("resize",W)},checkElems:W,updateElem:_}),M=function(){M.i||(M.i=!0,N._(),t._())};var w,_,W;var x,B,S,L,R,D,T,k,O,P,$,F,H,I,j,q,G,J,K,Q,U,V,X,Y,Z,ee,te,ae,ie,ne,se;return function(){var e,t={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.7,expand:630<a.clientHeight?890<a.clientWidth?500:410:359,loadMode:2};for(e in u=o.lazySizesConfig||o.lazysizesConfig||{},t)e in u||(u[e]=t[e]);o.lazySizesConfig=u,f(function(){u.init&&M()})}(),{cfg:u,autoSizer:N,loader:t,init:M,uP:A,aC:y,rC:p,hC:v,fire:C,gW:E}}(e,e.document);e.lazySizes=a,"object"==typeof module&&module.exports?module.exports=a:"function"==typeof define&&define.amd&&define(a)}(window);